<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="websitestyle.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://unpkg.com/swiper/css/swiper.min.css">

<script src="https://unpkg.com/swiper/js/swiper.js"></script>
<script src="https://unpkg.com/swiper/js/swiper.min.js"></script>

<div class="topnav" id="myTopnav">
  
        <a id="logolink" href="homepage.html">
          <img id="logo"  src="logo.png"
          >
       </a>
    <a href="#home" class="active">Home</a>
    <a href="#news">News</a>
    <a href="#contact">Contact</a>
    <a href="#about">About</a>
    <a href="javascript:void(0);" class="icon" onclick="myFunction()">
      <i class="fa fa-bars"></i>
    </a>
  </div>

  

    <div class="left">
        <br>
        <p>
           Please fill in the form below to contact us 
            <form action="/action_page.php" class="form-container">

                <table style="margin-right:10px;">
                  <tr>
                    <td align="right">Name:</td>
                    <td align="left"><input type="text" placeholder="Enter Name" name="name" required/> </td>
                  </tr>
                  <tr>
                    <td align="right">Email:</td>
                    <td align="left"><input type="email" placeholder="Enter Email" name="email" required/></td>
                  </tr>
                  <tr>
                    <td align="right">Message:</td>
                    <td align="left"><input type="text" placeholder="Enter your message" name="message" required /></td>
                  </tr>
                </table>
              </form>
              <br>
              Or call us: Visit Peterborough
              <br> 
              <a href="tel:01733 214466">01733 214466</a>
            
    </div>
  
    <div class="main">  
      <div id='info'>
        <div id='map'>

  
   
        <script>
            var map;
            var marker;
            var infoWindow;
            var Directions;
            var Traffic;
            var DisplayDirections;
            var Request;
            var destination= { lat: 52.5865547, lng: -0.232581};
            var image = 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png';

            const modes={
        
                car:'DRIVING'
          
            };
            const advReqOptions={
                provideRouteAlternatives:true,
                optimizeWaypoints:true,
                avoidFerries:true,
                avoidHighways:false,
                avoidTolls:false
            };



            function initMap(){
                
                /* utility to add a new marker and assign listeners to it */
                const addmarker=function( pos, type, colour ){
                    marker=new google.maps.Marker({
                        icon: image,
                        animation: google.maps.Animation.DROP,
                        type:type,
                        draggable:false,
                        position:pos,
                        map:map
                        
                    });
                   
                    marker.addListener('click', toggleBounce);
                    function toggleBounce() {
  if (marker.getAnimation() !== null) {
    marker.setAnimation(null);
  } else {
    marker.setAnimation(google.maps.Animation.BOUNCE);
  }
}
                    google.maps.event.addListener( marker, 'click', function(e){
                        infoWindow.getContent().style.display='block';
                        infoWindow.setPosition( this.getPosition() );
                        infoWindow.open( map );
                    });
                    google.maps.event.addListener( marker, 'dragend', calculateroute );
                };

                /* callback function when markers are dragged and the route is re-calculated */
                const calculateroute=function(e){
                    Request={
                        origin:this.type=='start' ? e.latLng : Request.origin,
                        destination:this.type=='finish' ? e.latLng : Request.destination,
                        travelMode:modes.car
                    };
                    Directions.route( Object.assign( Request, advReqOptions ), callback );
                };

                /* process the route response */
                const callback=function(r,s){
                    if( s === 'OK' ) DisplayDirections.setDirections( r );
                    else evtGeoFailure( s );
                }

                /* Main callback invoked when the user's location has been identified */
                const evtGeoSuccess=function(p){
                    /* create the map */
                    var location={
                        lat: parseFloat( p.coords.latitude ),
                        lng: parseFloat( p.coords.longitude )
                    };
                    var options= {
                        zoom: 10,
                        center:location,
                        mapTypeId: 'terrain'
                    };
                    var routeoptions={
                        suppressMarkers:true,
                        draggable:false,
                        map:map
                    };

                    /* create the map object */
                    map = new google.maps.Map( document.getElementById('map'), options );

                    /* add draggable markers to the start and end of pre-defined route */
                    addmarker( location, 'start' );
                    addmarker( destination, 'finish' );

                    /* display the textual directions in an infowindow which opens on marker click */
                    infoWindow = new google.maps.InfoWindow({ maxWidth:450, disableAutoPan:false });
                    infoWindow.setContent( document.getElementById('info') );


                    /* create the objects required for the directions calculations */
                    Directions=new google.maps.DirectionsService();
                    DisplayDirections=new google.maps.DirectionsRenderer( routeoptions );
                    Traffic=new google.maps.TrafficLayer();


                    /* construct the initial request */
                    Request={
                        origin:location,
                        destination:destination,
                        travelMode:modes.car
                    };

                    /* go get the directions... */
                    DisplayDirections.setMap( map );
                    Traffic.setMap( map );
                    DisplayDirections.setPanel( infoWindow.getContent() );
                    Directions.route( Object.assign( Request, advReqOptions ), callback );
                };


                const evtGeoFailure=function(e){ console.info( 'you broke the internets: %s', e ) };
                const config={ maximumAge:60000, timeout:5000, enableHighAccuracy:true };

                if( navigator.geolocation ) navigator.geolocation.getCurrentPosition( evtGeoSuccess, evtGeoFailure, config );
            }
        </script>
        <script src='//maps.googleapis.com/maps/api/js?key=AIzaSyBdCoAFhgpKnITWRb5RnO0bV3dMQgx7FeA&callback=initMap' async defer></script>
    </head>

  

</div></div>
</div>
</div>
</div>
</div>
</div>
<div class="right">
    <div id = "eventinfo" >
Helloggggg
  </div>
</div>
</div>
</div>
</div>
</div>
<div class="footer">
<p>Follow us on Facebook, Twitter and Instagram</p>
<a href="https://www.facebook.com/Visit-Peterborough-107213310962419/"> <img class="footerimage" src="images/fblogo.png"/>
<a href="https://twitter.com/VisitPeterboro1"> <img class="footerimage" src="images/twitterlogo.png" />
<a href="https://www.instagram.com/visitpeterborough20/"> <img class="footerimage" src="images/instagramlogo.png"/>


</div> 
<script src="https://ticketmaster-api-staging.github.io/products-and-docs/widgets/event-discovery/1.0.0/lib/main-widget.js"></script>


<script>
function myFunction() {
  var x = document.getElementById("myTopnav");
  if (x.className === "topnav") {
    x.className += " responsive";
  } else {
    x.className = "topnav";
  }
}
</script>
</body>
</html>
